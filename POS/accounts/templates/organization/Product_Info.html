{% extends "base.html" %}




{% block style %}
<style>
    .form-group {
        margin: 0;

    }

    .prodImg {
        max-width: 180px;
        height: 180px;
    }

    input[type=file] {
        width: 50%px;
    }
</style>
{% endblock style %}

{% block content %}

<!-- Top Bar -->
<nav class="navbar">
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="javascript:void(0);" class="navbar-toggle collapsed" data-toggle="collapse"
                data-target="#navbar-collapse" aria-expanded="false"></a>
            <a href="javascript:void(0);" class="bars"></a>
            <a class="navbar-brand" href="index.html">NHZ STORE</a>

        </div>
        <div class="collapse navbar-collapse" id="navbar-collapse">
            <ul class="nav navbar-nav navbar-right">
                <!-- Call Search -->
                <!-- <li><a href="javascript:void(0);" class="js-search" data-close="true"><i class="material-icons">search</i></a></li> -->


                <li style="text-align: center" class="pull-right"><a href="" data-close="true"><i
                            class="material-icons">people_outline</i>
                        <div>Users</div>
                    </a></li>

                <li style="text-align: center" class="dropdown pull-right">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-close="true"
                        aria-haspopup="true" aria-expanded="false"><i class="material-icons">location_city</i> <span
                            class="caret"></span>
                        <div>Departments</div>
                    </a>

                    <ul class="dropdown-menu">
                        <li><a href="#">Action</a></li>
                        <li><a href="#">Another action</a></li>
                        <li><a href="#">Something else here</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">Separated link</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">One more separated link</a></li>
                    </ul>
                </li>
                <li style="text-align: center" class="dropdown pull-right">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-close="true"
                        aria-haspopup="true" aria-expanded="false"><i class="material-icons">device_hub</i> <span
                            class="caret"></span>
                        <div>Terminals</div>
                    </a>

                    <ul class="dropdown-menu">
                        <li><a href="#">Action</a></li>
                        <li><a href="#">Another action</a></li>
                        <li><a href="#">Something else here</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">Separated link</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">One more separated link</a></li>
                    </ul>
                </li>
                <li style="text-align: center" class="dropdown pull-right">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-close="true"
                        aria-haspopup="true" aria-expanded="false"><i class="material-icons">ballot</i> <span
                            class="caret"></span>
                        <div>Blocks</div>
                    </a>

                    <ul class="dropdown-menu">
                        <li><a href="#">Action</a></li>
                        <li><a href="#">Another action</a></li>
                        <li><a href="#">Something else here</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">Separated link</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">One more separated link</a></li>
                    </ul>
                </li>

                <li style="text-align: center" class="pull-right"><a href="" data-close="true"><i
                            class="material-icons">language</i>
                        <div>Regions</div>
                    </a></li>
                <li style="text-align: center" class="pull-right"><a href="" data-close="true"><i
                            class="material-icons">book</i>
                        <div> Books</div>
                    </a></li>

                <li style="text-align: center" class="dropdown pull-right">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-close="true"
                        aria-haspopup="true" aria-expanded="false"><i class="material-icons">people_outline</i> <span
                            class="caret"></span>
                        <div>Customers</div>
                    </a>

                    <ul class="dropdown-menu">
                        <li><a href="#">Action</a></li>
                        <li><a href="#">Another action</a></li>
                        <li><a href="#">Something else here</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">Separated link</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">One more separated link</a></li>
                    </ul>
                </li>
                <li style="text-align: center" class="dropdown pull-right">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-close="true"
                        aria-haspopup="true" aria-expanded="false"><i class="material-icons">scatter_plot</i> <span
                            class="caret"></span>
                        <div>Branches</div>
                    </a>

                    <ul class="dropdown-menu">
                        <li><a href="#">Action</a></li>
                        <li><a href="#">Another action</a></li>
                        <li><a href="#">Something else here</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">Separated link</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">One more separated link</a></li>
                    </ul>
                </li>


                <li style="text-align: center" class="dropdown pull-right">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-close="true"
                        aria-haspopup="true" aria-expanded="false"><i class="material-icons">directions_boat</i> <span
                            class="caret"></span>
                        <div>Trade/Projects</div>
                    </a>

                    <ul class="dropdown-menu">
                        <li><a href="#">Action</a></li>
                        <li><a href="#">Another action</a></li>
                        <li><a href="#">Something else here</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">Separated link</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">One more separated link</a></li>
                    </ul>
                </li>
                <li style="text-align: center" class="dropdown pull-right">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-close="true"
                        aria-haspopup="true" aria-expanded="false"><i class="material-icons">rate_review</i> <span
                            class="caret"></span>
                        <div>Periods</div>
                    </a>

                    <ul class="dropdown-menu">
                        <li><a href="#">Action</a></li>
                        <li><a href="#">Another action</a></li>
                        <li><a href="#">Something else here</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">Separated link</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">One more separated link</a></li>
                    </ul>
                </li>
                <li style="text-align: center" class="dropdown pull-right">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-close="true"
                        aria-haspopup="true" aria-expanded="false"><i class="material-icons">money</i> <span
                            class="caret"></span>
                        <div>Pay role</div>
                    </a>

                    <ul class="dropdown-menu">
                        <li><a href="#">Action</a></li>
                        <li><a href="#">Another action</a></li>
                        <li><a href="#">Something else here</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">Separated link</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">One more separated link</a></li>
                    </ul>
                </li>
                <li style="text-align: center" class="dropdown pull-right">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-close="true"
                        aria-haspopup="true" aria-expanded="false"><i class="material-icons">inbox</i> <span
                            class="caret"></span>
                        <div>Products</div>
                    </a>

                    <ul class="dropdown-menu">
                        <li><a href="#">Product Info</a></li>
                        <li><a href="#">Assembly Items</a></li>
                        <li><a href="#">Locations</a></li>
                        <li><a href="#">Category</a></li>
                        <li><a href="#">Company</a></li>
                        <li role="separator" class="divider"></li>

                    </ul>
                </li>

                <li style="text-align: center" class="pull-right "><a class="bg-orange" data-close="true"><i
                            class="material-icons">local_library</i>
                        <div>Accounts Head</div>
                    </a>
                </li>

            </ul>
        </div>
    </div>
</nav>
<!-- #Top Bar -->
{% include "leftsidebar.html" %}

<section class="content">
    <div class="container-fluid">
        <div class="block-header">
            <h2>FORM EXAMPLES</h2>
        </div>


        <!-- Multi Column -->
        <div class="row clearfix">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="card">
                    <div class="header">
                        <h2>
                            MULTI COLUMN
                        </h2>

                    </div>
                    <div class="body">
                        <form id="myForm">
                            {% csrf_token %}
                            <div class="row clearfix">
                                <div class="row clearfix">
                                    <div class="col-md-5">

                                        <div class="form-group form-inline padding-0">
                                            <label for="exampleInputEmail1">Product's ID</label>

                                            <input type="text" style="width:250px" class="form-control" name="ProductCode"
                                                id="ProductC" placeholder="Product ID">
                                            <i class="glyphicon glyphicon-chevron-left btn btn-secondary"></i>
                                            <i class="glyphicon glyphicon-chevron-right btn btn-secondary"></i>
                                            <i class="glyphicon glyphicon-ok btn btn-secondary"></i>

                                        </div>


                                    </div>
                                    <div class="col-md-7 padding-0">

                                        <div class=" form-group form-line">
                                            <label for="">Category</label>
                                            <select style="width:100px" required name="Category" id="slct2">
                                                <option selected disabled>Choose</option>
                                                {% for Category in Category %}

                                                
                                                
                                                <option
                                                    value="{{Category|cut:"(" |cut:")" |cut:","|cut:"'"}}">
                                                    {{Category|cut:"(" |cut:")" |cut:","|cut:"'"}}</option>

                                                {% endfor %}

                                            </select>
                                            <label for="">Type</label>
                                            <select style="width:100px" required name="type" id="slct2">

                                                <option selected disabled>Choose</option>
                                                <option  value="Goods">Goods</option>
                                                <option  value="Services" >Services</option>
                                                <option value="AssemblyItem">AssemblyItem</option>
                                                <option value="RM/Supplies">RM/Supplies</option>

                                            </select>
                                            <label for="">Valuation</label>
                                            <select style="width:60px" required name="Valuation" id="slct2">

                                                <option selected disabled>Choose</option>
                                                <option  value="AVCO">AVCO</option>
                                                <option  value="FIFO" >FIFO</option>
                                                <option value="LIFO">LIFO</option>

                                            </select>
                                            <label for="">Scheme</label>
                                            <select style="width:90px" required name="Scheme" id="slct2">

                                                <option selected disabled>Choose</option>

                                            </select>
                                            <label for="">Active</label>
                                            <select style="width:50px" required name="Active" id="slct2">

                                                    <option value="Active">Active</option>
                                                    <option value="In-Active">In-Active</option>

                                            </select>
                                        </div>

                                    </div>


                                </div>
                            </div>
                            <!-- image -->
                            <div class="row clearfix ">
                                <div class="row clearfix">
                                    <div class="col-md-10">
                                        <div class="form-group form-inline padding-0">
                                            <label for="exampleInputEmail1">Product Title</label>

                                            <input type="text" style="width:150px" class="form-control" name="Product_Title"
                                                id="ProductC" placeholder="Product Title">
                                            <i class=" btn btn-secondary">Add</i>
                                            <i class=" btn btn-secondary">Del</i>

                                            <label for="">O/I Unit</label>
                                            <input class="form-control" style="width:40px" name="OIUNIT" type="text">
                                            <label for="">/</label>
                                            <input class="form-control" style="width:40px" name="innerUnit"type="text">

                                            <label for="">Packing</label>
                                            <input class="form-control" style="width:80px" name="Packing"type="text">
                                            <label for="">Sal.Disc.%</label>
                                            <input class="form-control" style="width:40px" name="SalDisc"type="text">
                                            <label for="">Pur.Disc.%</label>
                                            <input class="form-control" style="width:40px" name="PurDisc" type="text">
                                            <label for="">Comm.%</label>
                                            <input class="form-control" style="width:40px" name="Comm"type="text">
                                        </div>
                                        <div class="form-group form-inline padding-0" style="margin-top:20px;">


                                            <label for="">Trade Price</label>
                                            <input class="form-control" style="width:60px" name="TradePrice" type="text">
                                            <label for="">PR.%</label>
                                            <input class="form-control" style="width:40px" name="PR" type="text">

                                            <label for="">Sal Price</label>
                                            <input class="form-control" style="width:60px" name="SalPrice" type="text">
                                            <label for="">DST Price</label>
                                            <input class="form-control" style="width:40px" name="DSTPrice" type="text">
                                            <label for="">WS Price</label>
                                            <input class="form-control" style="width:40px" name="WSPrice" type="text">
                                            <label for="">Company</label>
                                            <select class="form-control" style="width:140px" name="Company" >
                                                    <option selected disabled>Choose</option>
                                            </select>
                                               
                                            <label for="">Vendor</label>
                                            <select class="form-control" style="width:140px" name="Vendor">
                                                    <option selected disabled>Choose</option>
                                            </select>





                                        </div>


                                        <div class="form-group form-inline padding-0" style="margin-top:20px; ">
                                            <label for="exampleInputEmail1">Old Price</label>
                                            <input type="text" style="width:150px" class="form-control" name="oldprice"
                                                id="oldprice" placeholder="Old Price">
                                            <label for="exampleInputEmail1">R.O.Level</label>
                                            <input type="text" style="width:140px" class="form-control" name="ROLevel"
                                                id="R.O.Level" placeholder="R.O.Level">
                                            <label for="exampleInputEmail1">Outer In Of</label>
                                            <input type="text" style="width:140px" class="form-control" name="OuterInOf"
                                                id="oldprice" placeholder="Outer In Of">
                                            <label for="exampleInputEmail1">Inner Of</label>
                                            <input type="text" style="width:100px" class="form-control" name="Innerof"
                                                id="oldprice" placeholder="Inner Of">
                                            <label for="exampleInputEmail1">Shelf</label>
                                            <input type="text" style="width:100px" class="form-control" name="Shelf"
                                                id="oldprice" placeholder="Shelf">




                                        </div>
                                        <div class="form-group form-inline padding-0" style="margin-top:20px; ">
                                            <label for="exampleInputEmail1">Inventory A/C</label>
                                            <select class="form-control" id="Inventory" name="InventoryAC">
                                                    <option selected disabled>Choose</option>
    
                                                </select>
                                            <label for="exampleInputEmail1">Sale A/C</label>
                                            <select class="form-control" id="saleAC" name="SALE_AC">
                                                    <option selected disabled>Choose</option>
    
                                                </select>
                                            <label for="exampleInputEmail1">COGS A/C</label>
                                            <select class="form-control" id="cogac" name="COG_AC">
                                                    <option selected disabled>Choose</option>
    
                                                </select>
                                                <label for="exampleInputEmail1">Location Code</label>
                                                <select class="form-control" id="" name="LocCode">
                                                    <option selected disabled>Choose</option>
                                                    <option value="loc::1">loc::1</option>
    
                                                </select>





                                        </div>
                                    </div>
                                    <div class="col-md-2 padding-0">
                                        <img id="blah" class="prodImg" src="http://placehold.it/180" alt="your image" />
                                        <input type='file' name="IMAGE" onchange="readURL(this);" />
                                        
                                        
                                        
                                    </div>
                                </div>
                            </div>

                            <div class="row clearfix">
                                <div class="row clearfix">
                                    <div class="col-md-9">
                                        <div class="form-group form-inline">
                                            <label for="my-input">Trade Code</label>
                                            <select class="form-control" name="Trade_T" id="trade_t">

                                                <option selected disabled>Choose</option>

                                                {% for Trade in Trade %}


                                                {% for Trade_Value in Trade_Value %}
                                                <option
                                                    value="{{Trade|cut:"(" |cut:")" |cut:","|cut:"'"}}">
                                                    {{Trade|cut:"(" |cut:")" |cut:","|cut:"'"}}</option>

                                                {% endfor %}



                                                {% endfor %}
                                            </select> <label for="my-input">Project Code</label>
                                            <select class="form-control" name="Project_T" id="project_t">
                                                <option selected disabled> Choose</option>

                                            </select>
                                            <label for="my-input">Branch Code</label>
                                            <select class="form-control" id="branch_t" name="Branch_T">
                                                <option selected disabled>Choose</option>

                                            </select>
                                        </div>
                                        
                                    </div>
                                    <div class="col-md-4">
                                        <input type="submit" name="contact-submit" class="btn btn-primary" />
                                    </div>
                                </div>
                            </div>

                            <div class="row clearfix">
                                <div class="row clearfix">

                                </div>
                            </div>


                    </div>

                    </form>

                </div>
                <form method="POST"   enctype="multipart/form-data">
                    {% csrf_token %}
                        <input type='file' name="image"  />
                        
                        <button type="submit"value="upload File"class="btn btn-primary">Submit</button>
                        
                </form>
            </div>
        </div>
        <!-- #END# Multi Column -->
    </div>
</section>



{% endblock content %}
{% block script %}

<script>
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#blah')
                    .attr('src', e.target.result);
            };

            reader.readAsDataURL(input.files[0]);
        }
    }
    $(document).ready(function () {
        $("#trade_t").change(function (e) {
            e.preventDefault();
            let formData = $('#myForm').serialize();

            $.ajax({
                type: 'GET',
                url: "{% url 'accounts:ProjectCodeFind' %}",
                data: formData,
                success: function (response) {
                    console.log(Response.Project);
                    $select = $('#project_t');
                    fLen = response.Project.length;
                    for (i = 0; i < fLen; i++) {
                        // console.log(response.Project[i]);
                        $select.append('<option value="' + response.Project[i] + '">' + response.Project[i] + '</option>');

                    }
                },
                error: function (response) {
                    console.log(response);
                }
            })
        });
        $("#project_t").change(function (e) {
            e.preventDefault();
            let formData = $('#myForm').serialize();

            $.ajax({
                type: 'GET',
                url: "{% url 'accounts:ProjectCodeFind' %}",
                data: formData,
                success: function (response) {

                    $select = $('#branch_t');
                    fLen = response.Project.length;
                    for (i = 0; i < fLen; i++) {

                        $select.append('<option selected value="' + response.Branch[i] + '">' + response.Branch[i] + '</option>');

                    }





                },
                error: function (response) {
                    alert(response)
                }
            })
        });
        $("#branch_t").change(function (e) {
      e.preventDefault();
      let formData = $('#myForm').serialize();

      $.ajax({
        type: 'GET',
        url: "{% url 'accounts:Account_List_By_Type' %}",
        data: formData,
        success: function (response) {
            

          $select = $('#Inventory');
          
          fLen = response.Inventory.length;
          for (i = 0; i < fLen; i++) {

            $select.append('<option  value="' + response.Inventory[i] + '">' + response.Inventory[i] + '</option>');

          }
          fLen = response.SaleAC.length;
          for (i = 0; i < fLen; i++) {

            $('#saleAC').append('<option  value="' + response.SaleAC[i] + '">' + response.SaleAC[i] + '</option>');

          }

          fLen = response.COGSAC.length;
          for (i = 0; i < fLen; i++) {

            $('#cogac').append('<option  value="' + response.COGSAC[i] + '">' + response.COGSAC[i] + '</option>');

          }



        },
        error: function (response) {
          alert(response)
        }
      })

    });
    $("#myForm").submit(function (e) {
      e.preventDefault();

      var serializedData = $(this).serialize();
      $.ajax({
        type: 'POST',
        url: "{% url 'Products:Product_Info' %}",
        data: serializedData,
        beforeSend: function () {

        },
        success: function (response) {
        //   $('#account').val(null).trigger("change")

        //   $('input[name=titleofaccount').val('');



          console.log(response);
          alert(response.message)

        },
        error: function (response) {
          console.log(response)
        }
      })
    });

    })
</script>
{% endblock script %}